<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 2 Introducción a Python | Introducción a Ciencia de Datos y Machine Learning con Python</title>
  <meta name="description" content="Capítulo 2 Introducción a Python | Introducción a Ciencia de Datos y Machine Learning con Python" />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 2 Introducción a Python | Introducción a Ciencia de Datos y Machine Learning con Python" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Capítulo 2 Introducción a Python | Introducción a Ciencia de Datos y Machine Learning con Python" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 2 Introducción a Python | Introducción a Ciencia de Datos y Machine Learning con Python" />
  
  <meta name="twitter:description" content="Capítulo 2 Introducción a Python | Introducción a Ciencia de Datos y Machine Learning con Python" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="conceptos-de-ciencia-de-datos.html"/>
<link rel="next" href="visualización.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><img src="img/amat-logo.png" width="280"></a></li|
|:-:|  
<center>Introducción a Ciencia de Datos y Machine Learning</center>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>BIENVENIDA</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivo"><i class="fa fa-check"></i>Objetivo</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#instructores"><i class="fa fa-check"></i>Instructores</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#alcances-del-curso"><i class="fa fa-check"></i>Alcances del curso</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#temario"><i class="fa fa-check"></i>Temario:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#duración-y-evaluación-del-curso"><i class="fa fa-check"></i>Duración y evaluación del curso</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#recursos-y-dinámica-de-clase"><i class="fa fa-check"></i>Recursos y dinámica de clase</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#asesorías"><i class="fa fa-check"></i>Asesorías</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html"><i class="fa fa-check"></i><b>1</b> Conceptos de Ciencia de Datos</a>
<ul>
<li class="chapter" data-level="1.1" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#qué-es-ciencia-de-datos"><i class="fa fa-check"></i><b>1.1</b> ¿Qué es Ciencia de Datos?</a>
<ul>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#definiendo-conceptos"><i class="fa fa-check"></i>Definiendo conceptos:</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#objetivos"><i class="fa fa-check"></i><b>1.2</b> Objetivos</a></li>
<li class="chapter" data-level="1.3" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#requisitos"><i class="fa fa-check"></i><b>1.3</b> Requisitos</a></li>
<li class="chapter" data-level="1.4" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aplicaciones"><i class="fa fa-check"></i><b>1.4</b> Aplicaciones</a></li>
<li class="chapter" data-level="1.5" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#tipos-de-algoritmos"><i class="fa fa-check"></i><b>1.5</b> Tipos de algoritmos</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aprendizaje-supervisado"><i class="fa fa-check"></i><b>1.5.1</b> Aprendizaje supervisado</a></li>
<li class="chapter" data-level="1.5.2" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aprendizaje-no-supervisado"><i class="fa fa-check"></i><b>1.5.2</b> Aprendizaje no supervisado</a></li>
<li class="chapter" data-level="1.5.3" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aprendizaje-por-refuerzo"><i class="fa fa-check"></i><b>1.5.3</b> Aprendizaje por refuerzo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introducción-a-python.html"><a href="introducción-a-python.html"><i class="fa fa-check"></i><b>2</b> Introducción a Python</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introducción-a-python.html"><a href="introducción-a-python.html#cómo-obtener-python"><i class="fa fa-check"></i><b>2.1</b> ¿Cómo obtener <em>Python</em>?</a></li>
<li class="chapter" data-level="2.2" data-path="introducción-a-python.html"><a href="introducción-a-python.html#qué-es-rstudio"><i class="fa fa-check"></i><b>2.2</b> ¿Qué es RStudio?</a></li>
<li class="chapter" data-level="2.3" data-path="introducción-a-python.html"><a href="introducción-a-python.html#uso-de-python-en-rstudio"><i class="fa fa-check"></i><b>2.3</b> Uso de python en Rstudio</a></li>
<li class="chapter" data-level="2.4" data-path="introducción-a-python.html"><a href="introducción-a-python.html#lectura-de-datos"><i class="fa fa-check"></i><b>2.4</b> Lectura de datos</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introducción-a-python.html"><a href="introducción-a-python.html#archivos-csv"><i class="fa fa-check"></i><b>2.4.1</b> Archivos <em>csv</em></a></li>
<li class="chapter" data-level="2.4.2" data-path="introducción-a-python.html"><a href="introducción-a-python.html#archivos-txt"><i class="fa fa-check"></i><b>2.4.2</b> Archivos txt</a></li>
<li class="chapter" data-level="2.4.3" data-path="introducción-a-python.html"><a href="introducción-a-python.html#archivos-xls-y-xlsx"><i class="fa fa-check"></i><b>2.4.3</b> Archivos <em>xls</em> y <em>xlsx</em></a></li>
<li class="chapter" data-level="2.4.4" data-path="introducción-a-python.html"><a href="introducción-a-python.html#archivos-pickle"><i class="fa fa-check"></i><b>2.4.4</b> Archivos pickle</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introducción-a-python.html"><a href="introducción-a-python.html#consultas-de-datos"><i class="fa fa-check"></i><b>2.5</b> Consultas de datos</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introducción-a-python.html"><a href="introducción-a-python.html#seleccionar-columnas"><i class="fa fa-check"></i><b>2.5.1</b> Seleccionar columnas</a></li>
<li class="chapter" data-level="2.5.2" data-path="introducción-a-python.html"><a href="introducción-a-python.html#filtrar-observaciones"><i class="fa fa-check"></i><b>2.5.2</b> Filtrar observaciones</a></li>
<li class="chapter" data-level="2.5.3" data-path="introducción-a-python.html"><a href="introducción-a-python.html#ordenar-registros"><i class="fa fa-check"></i><b>2.5.3</b> Ordenar registros</a></li>
<li class="chapter" data-level="2.5.4" data-path="introducción-a-python.html"><a href="introducción-a-python.html#agregar-modificar"><i class="fa fa-check"></i><b>2.5.4</b> Agregar / Modificar</a></li>
<li class="chapter" data-level="2.5.5" data-path="introducción-a-python.html"><a href="introducción-a-python.html#resumen-estadístico"><i class="fa fa-check"></i><b>2.5.5</b> Resumen estadístico</a></li>
<li class="chapter" data-level="2.5.6" data-path="introducción-a-python.html"><a href="introducción-a-python.html#agrupamiento"><i class="fa fa-check"></i><b>2.5.6</b> Agrupamiento</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="visualización.html"><a href="visualización.html"><i class="fa fa-check"></i><b>3</b> Visualización</a>
<ul>
<li class="chapter" data-level="3.1" data-path="visualización.html"><a href="visualización.html#eda-análisis-exploratorio-de-datos"><i class="fa fa-check"></i><b>3.1</b> EDA: Análisis Exploratorio de Datos</a></li>
<li class="chapter" data-level="3.2" data-path="visualización.html"><a href="visualización.html#geda-análisis-exploratorio-de-datos-gráficos"><i class="fa fa-check"></i><b>3.2</b> GEDA: Análisis Exploratorio de Datos Gráficos</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="visualización.html"><a href="visualización.html#lo-que-no-se-debe-hacer"><i class="fa fa-check"></i><b>3.2.1</b> Lo que no se debe hacer…</a></li>
<li class="chapter" data-level="3.2.2" data-path="visualización.html"><a href="visualización.html#principios-de-visualización"><i class="fa fa-check"></i><b>3.2.2</b> Principios de visualización</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="visualización.html"><a href="visualización.html#ggplot-plotnine"><i class="fa fa-check"></i><b>3.3</b> Ggplot / plotnine</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="visualización.html"><a href="visualización.html#capas-estéticas"><i class="fa fa-check"></i><b>3.3.1</b> Capas Estéticas</a></li>
<li class="chapter" data-level="3.3.2" data-path="visualización.html"><a href="visualización.html#capas-geométricas"><i class="fa fa-check"></i><b>3.3.2</b> Capas geométricas</a></li>
<li class="chapter" data-level="3.3.3" data-path="visualización.html"><a href="visualización.html#facetas"><i class="fa fa-check"></i><b>3.3.3</b> Facetas</a></li>
<li class="chapter" data-level="3.3.4" data-path="visualización.html"><a href="visualización.html#más-sobre-estéticas"><i class="fa fa-check"></i><b>3.3.4</b> Más sobre estéticas</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="visualización.html"><a href="visualización.html#análisis-univariado"><i class="fa fa-check"></i><b>3.4</b> Análisis univariado</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="visualización.html"><a href="visualización.html#variables-numéricas"><i class="fa fa-check"></i><b>3.4.1</b> Variables numéricas</a></li>
<li class="chapter" data-level="3.4.2" data-path="visualización.html"><a href="visualización.html#variables-nominalescategóricas"><i class="fa fa-check"></i><b>3.4.2</b> Variables nominales/categóricas</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="visualización.html"><a href="visualización.html#análisis-multivariado"><i class="fa fa-check"></i><b>3.5</b> Análisis multivariado</a>
<ul>
<li class="chapter" data-level="" data-path="visualización.html"><a href="visualización.html#ejercicios"><i class="fa fa-check"></i>Ejercicios</a></li>
<li class="chapter" data-level="" data-path="visualización.html"><a href="visualización.html#warning"><i class="fa fa-check"></i>¡ Warning !</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="visualización.html"><a href="visualización.html#reporte-interactivos"><i class="fa fa-check"></i><b>3.6</b> Reporte interactivos</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="./"><img src="img/amat-logo.png" width="280"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a Ciencia de Datos y Machine Learning con Python</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introducción-a-python" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Capítulo 2</span> Introducción a Python<a href="introducción-a-python.html#introducción-a-python" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Python es un lenguaje de programación de alto nivel, interpretado y generalmente considerado como un lenguaje fácil de aprender y utilizar. Fue creado por <em>Guido van Rossum</em> y lanzado por primera vez en 1991. Python se destaca por su sintaxis clara y legible, lo que facilita la escritura y comprensión del código.</p>
<p><img src="img/02-intro2py/01_ds_python.jpeg" style="display: block; margin: auto;" /></p>
<p>Python se ha vuelto extremadamente popular en el campo de la ciencia de datos por varias razones:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Facilidad de uso:</strong> Python se destaca por su sintaxis simple y legible, lo que facilita a los científicos de datos escribir, leer y mantener el código. Además, cuenta con una gran cantidad de bibliotecas y paquetes que facilitan tareas comunes en el análisis de datos.</p></li>
<li><p><strong>Amplia comunidad y ecosistema:</strong> Cuenta con una gran comunidad de desarrolladores y científicos de datos que contribuyen con bibliotecas y paquetes de código abierto para realizar diversas tareas en ciencia de datos. Algunas de las bibliotecas más populares incluyen NumPy (para cálculos numéricos), pandas (para procesamiento de dataframes), matplotlib (para gráficos), scikit-learn (para machine learning) y TensorFlow (para deep learning).</p></li>
<li><p><strong>Integración con otras tecnologías:</strong> Python se puede integrar fácilmente con otras tecnologías y lenguajes, lo que lo convierte en una opción versátil para la ciencia de datos. Por ejemplo, es común utilizar Python junto con bases de datos, herramientas de big data como Apache Spark, y lenguajes como R y SQL.</p></li>
<li><p><strong>Flexibilidad:</strong> Python es un lenguaje flexible que se adapta a diferentes necesidades en ciencia de datos. Puede utilizarse tanto para realizar tareas simples como el procesamiento y limpieza de datos, como para desarrollar modelos de aprendizaje automático complejos y aplicaciones de inteligencia artificial.</p></li>
<li><p><strong>Accesibilidad:</strong> Python es un lenguaje de programación <em>open-source</em>, lo que significa que es de uso gratuito y todos pueden contribuir a su desarrollo. Esto permite que toda la comunidad tiene acceso a los desarrollos y contribuciones de código publicado. En el ámbito empresarial y académico disminuye los costos de software.</p></li>
</ol>
<p>Estas características hacen de Python una herramienta poderosa y popular para realizar análisis de datos, desarrollar modelos de aprendizaje automático y abordar una amplia gama de problemas en la ciencia de datos.</p>
<div id="cómo-obtener-python" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> ¿Cómo obtener <em>Python</em>?<a href="introducción-a-python.html#cómo-obtener-python" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Python puede ser fácilmente descargado de forma gratuita desde el sitio oficial <a href="https://www.python.org/downloads/" class="uri">https://www.python.org/downloads/</a>. Python está disponible para las plataformas Windows, Mac y Linux.</p>
</div>
<div id="qué-es-rstudio" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> ¿Qué es RStudio?<a href="introducción-a-python.html#qué-es-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>RStudio</em> es un Entorno de Desarrollo Integrado (IDE, por sus siglas en inglés) creado por Posit (antes Rstudio) para R y Python. Este permite y facilita el desarrollo y ejecución de sintaxis para código en <em>R</em> y <em>python</em>, incluye una consola y proporciona herramientas para la gestión del espacio de trabajo. <em>RStudio</em> está disponible para Windows, Mac y Linux o para navegadores conectados a <em>RStudio Server o RStudio Server Pro</em>.</p>
<p>Algunas de las principales características de Rstudio que lo hacen una gran herramienta para trabajar, son:</p>
<ul>
<li>Auto completado de código</li>
<li>Sangría inteligente</li>
<li>Resaltado de sintaxis</li>
<li>Facilidad para definir funciones</li>
<li>Soporte integrado</li>
<li>Documentación integrada</li>
<li>Administración de directorios y proyectos</li>
<li>Visor de datos</li>
<li>Depurador interactivo para corregir errores</li>
<li>Conección con Rmarkwon y Sweave</li>
</ul>
<p>La siguiente imagen muestra la forma en la que está estructurado RStudio. El orden de los páneles puede ser elegido por el usuario, así como las características de tipo de letra, tamaño y color de fondo, entre otras características.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-22"></span>
<img src="img/02-intro2py/02_rstudio_py.png" alt="Páneles de trabajo de Rstudio" width="1368" />
<p class="caption">
Figure 2.1: Páneles de trabajo de Rstudio
</p>
</div>
</div>
<div id="uso-de-python-en-rstudio" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Uso de python en Rstudio<a href="introducción-a-python.html#uso-de-python-en-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="introducción-a-python.html#cb4-1" tabindex="-1"></a>library(reticulate)</span>
<span id="cb4-2"><a href="introducción-a-python.html#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="introducción-a-python.html#cb4-3" tabindex="-1"></a>install_python(<span class="bu">list</span> <span class="op">=</span> TRUE)</span>
<span id="cb4-4"><a href="introducción-a-python.html#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="introducción-a-python.html#cb4-5" tabindex="-1"></a>use_python(<span class="st">&quot;C:/Program Files/Python310/python.exe&quot;</span>)</span>
<span id="cb4-6"><a href="introducción-a-python.html#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="introducción-a-python.html#cb4-7" tabindex="-1"></a><span class="co">#### Conda ####</span></span>
<span id="cb4-8"><a href="introducción-a-python.html#cb4-8" tabindex="-1"></a><span class="co"># Creación de ambiente virtual de python 3.10 con conda</span></span>
<span id="cb4-9"><a href="introducción-a-python.html#cb4-9" tabindex="-1"></a>conda_create(envname <span class="op">=</span> <span class="st">&quot;conda_dsml_py3_10&quot;</span>)</span>
<span id="cb4-10"><a href="introducción-a-python.html#cb4-10" tabindex="-1"></a></span>
<span id="cb4-11"><a href="introducción-a-python.html#cb4-11" tabindex="-1"></a><span class="co"># Consultar la lista de ambientes creados</span></span>
<span id="cb4-12"><a href="introducción-a-python.html#cb4-12" tabindex="-1"></a>conda_list()</span>
<span id="cb4-13"><a href="introducción-a-python.html#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="introducción-a-python.html#cb4-14" tabindex="-1"></a>use_miniconda(<span class="st">&quot;conda_dsml_py3_10&quot;</span>)</span>
<span id="cb4-15"><a href="introducción-a-python.html#cb4-15" tabindex="-1"></a></span>
<span id="cb4-16"><a href="introducción-a-python.html#cb4-16" tabindex="-1"></a><span class="co"># instalar pandas</span></span>
<span id="cb4-17"><a href="introducción-a-python.html#cb4-17" tabindex="-1"></a>conda_install(<span class="st">&quot;conda_dsml_py3_10&quot;</span>, <span class="st">&quot;pandas&quot;</span>)</span>
<span id="cb4-18"><a href="introducción-a-python.html#cb4-18" tabindex="-1"></a></span>
<span id="cb4-19"><a href="introducción-a-python.html#cb4-19" tabindex="-1"></a>pandas <span class="op">&lt;-</span> <span class="im">import</span>(<span class="st">&quot;pandas&quot;</span>)</span>
<span id="cb4-20"><a href="introducción-a-python.html#cb4-20" tabindex="-1"></a></span>
<span id="cb4-21"><a href="introducción-a-python.html#cb4-21" tabindex="-1"></a><span class="co">#### VirtualEnv ####</span></span>
<span id="cb4-22"><a href="introducción-a-python.html#cb4-22" tabindex="-1"></a><span class="co"># Creación de ambiente virtual de python 3.10 con virtualenv </span></span>
<span id="cb4-23"><a href="introducción-a-python.html#cb4-23" tabindex="-1"></a>virtualenv_create(envname <span class="op">=</span> <span class="st">&quot;venv_dsml_py3_10&quot;</span>)</span>
<span id="cb4-24"><a href="introducción-a-python.html#cb4-24" tabindex="-1"></a></span>
<span id="cb4-25"><a href="introducción-a-python.html#cb4-25" tabindex="-1"></a>virtualenv_list()</span>
<span id="cb4-26"><a href="introducción-a-python.html#cb4-26" tabindex="-1"></a></span>
<span id="cb4-27"><a href="introducción-a-python.html#cb4-27" tabindex="-1"></a>use_virtualenv(<span class="st">&quot;venv_dsml_py3_10&quot;</span>)</span>
<span id="cb4-28"><a href="introducción-a-python.html#cb4-28" tabindex="-1"></a></span>
<span id="cb4-29"><a href="introducción-a-python.html#cb4-29" tabindex="-1"></a><span class="co"># install pandas</span></span>
<span id="cb4-30"><a href="introducción-a-python.html#cb4-30" tabindex="-1"></a>virtualenv_install(<span class="st">&quot;venv_dsml_py3_10&quot;</span>, <span class="st">&quot;pandas&quot;</span>)</span></code></pre></div>
</div>
<div id="lectura-de-datos" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Lectura de datos<a href="introducción-a-python.html#lectura-de-datos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El primer paso para analizar datos es incorporarlos a la sesión de python para que puedan ser manipulados y observados. Existen múltiples librerías y funciones que permiten leer la información proveniente de un archivo externo, el cual puede tener una de muchas posibles extensiones.</p>
<p>Usualmente, no creamos los datos desde la sesión, sino que a través de un archivo externo se realiza la lectura de datos escritos en un archivo. Los más comúnes son:</p>
<p><img src="img/02-intro2py/03_archivos.jpg" style="display: block; margin: auto;" /></p>
<p>La paquetería <em>pandas</em> fue desarrollada recientemente para lidiar con la lectura de archivos rápidamente. Esta paquetería proporciona funciones que suelen ser mucho más rápidas que las funciones base que proporciona <em>python</em>.</p>
<div id="archivos-csv" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Archivos <em>csv</em><a href="introducción-a-python.html#archivos-csv" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A la hora de importar conjuntos de datos en <em>python</em>, uno de los formatos más habituales en los que hallamos información es en archivos separados por comas (comma separated values), cuya extensión suele ser <em>.csv</em>. En ellos encontramos múltiples líneas que recogen la tabla de interés, y en las cuales los valores aparecen, de manera consecutiva, separados por el carácter <em>,</em>.</p>
<p>Para importar este tipo de archivos en nuestra sesión de <em>python</em>, se utiliza la función <code>read_csv()</code>.</p>
<p>El único argumento que debemos de pasar a esta función de manera obligatoria, es <code>file</code>, el nombre o la ruta completa del archivo que pretendemos importar.</p>
<p>La paquetería <em>pandas</em> fue desarrollada para lidiar con la lectura de archivos grandes rápidamente.</p>
<p>Veamos un ejemplo:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="introducción-a-python.html#cb5-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="introducción-a-python.html#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="introducción-a-python.html#cb5-3" tabindex="-1"></a>data_csv <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/ames.csv&quot;</span>)</span>
<span id="cb5-4"><a href="introducción-a-python.html#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="introducción-a-python.html#cb5-5" tabindex="-1"></a>data_csv.info()</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
## RangeIndex: 2930 entries, 0 to 2929
## Data columns (total 74 columns):
##  #   Column              Non-Null Count  Dtype  
## ---  ------              --------------  -----  
##  0   MS_SubClass         2930 non-null   object 
##  1   MS_Zoning           2930 non-null   object 
##  2   Lot_Frontage        2930 non-null   int64  
##  3   Lot_Area            2930 non-null   int64  
##  4   Street              2930 non-null   object 
##  5   Alley               2930 non-null   object 
##  6   Lot_Shape           2930 non-null   object 
##  7   Land_Contour        2930 non-null   object 
##  8   Utilities           2930 non-null   object 
##  9   Lot_Config          2930 non-null   object 
##  10  Land_Slope          2930 non-null   object 
##  11  Neighborhood        2930 non-null   object 
##  12  Condition_1         2930 non-null   object 
##  13  Condition_2         2930 non-null   object 
##  14  Bldg_Type           2930 non-null   object 
##  15  House_Style         2930 non-null   object 
##  16  Overall_Cond        2930 non-null   object 
##  17  Year_Built          2930 non-null   int64  
##  18  Year_Remod_Add      2930 non-null   int64  
##  19  Roof_Style          2930 non-null   object 
##  20  Roof_Matl           2930 non-null   object 
##  21  Exterior_1st        2930 non-null   object 
##  22  Exterior_2nd        2930 non-null   object 
##  23  Mas_Vnr_Type        1155 non-null   object 
##  24  Mas_Vnr_Area        2930 non-null   int64  
##  25  Exter_Cond          2930 non-null   object 
##  26  Foundation          2930 non-null   object 
##  27  Bsmt_Cond           2930 non-null   object 
##  28  Bsmt_Exposure       2930 non-null   object 
##  29  BsmtFin_Type_1      2930 non-null   object 
##  30  BsmtFin_SF_1        2930 non-null   int64  
##  31  BsmtFin_Type_2      2930 non-null   object 
##  32  BsmtFin_SF_2        2930 non-null   int64  
##  33  Bsmt_Unf_SF         2930 non-null   int64  
##  34  Total_Bsmt_SF       2930 non-null   int64  
##  35  Heating             2930 non-null   object 
##  36  Heating_QC          2930 non-null   object 
##  37  Central_Air         2930 non-null   object 
##  38  Electrical          2930 non-null   object 
##  39  First_Flr_SF        2930 non-null   int64  
##  40  Second_Flr_SF       2930 non-null   int64  
##  41  Gr_Liv_Area         2930 non-null   int64  
##  42  Bsmt_Full_Bath      2930 non-null   int64  
##  43  Bsmt_Half_Bath      2930 non-null   int64  
##  44  Full_Bath           2930 non-null   int64  
##  45  Half_Bath           2930 non-null   int64  
##  46  Bedroom_AbvGr       2930 non-null   int64  
##  47  Kitchen_AbvGr       2930 non-null   int64  
##  48  TotRms_AbvGrd       2930 non-null   int64  
##  49  Functional          2930 non-null   object 
##  50  Fireplaces          2930 non-null   int64  
##  51  Garage_Type         2930 non-null   object 
##  52  Garage_Finish       2930 non-null   object 
##  53  Garage_Cars         2930 non-null   int64  
##  54  Garage_Area         2930 non-null   int64  
##  55  Garage_Cond         2930 non-null   object 
##  56  Paved_Drive         2930 non-null   object 
##  57  Wood_Deck_SF        2930 non-null   int64  
##  58  Open_Porch_SF       2930 non-null   int64  
##  59  Enclosed_Porch      2930 non-null   int64  
##  60  Three_season_porch  2930 non-null   int64  
##  61  Screen_Porch        2930 non-null   int64  
##  62  Pool_Area           2930 non-null   int64  
##  63  Pool_QC             2930 non-null   object 
##  64  Fence               2930 non-null   object 
##  65  Misc_Feature        106 non-null    object 
##  66  Misc_Val            2930 non-null   int64  
##  67  Mo_Sold             2930 non-null   int64  
##  68  Year_Sold           2930 non-null   int64  
##  69  Sale_Type           2930 non-null   object 
##  70  Sale_Condition      2930 non-null   object 
##  71  Sale_Price          2930 non-null   int64  
##  72  Longitude           2930 non-null   float64
##  73  Latitude            2930 non-null   float64
## dtypes: float64(2), int64(32), object(40)
## memory usage: 1.7+ MB</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="introducción-a-python.html#cb7-1" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="dv">6</span>)</span>
<span id="cb7-2"><a href="introducción-a-python.html#cb7-2" tabindex="-1"></a>data_csv.head(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>##                            MS_SubClass                 MS_Zoning  \
## 0  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 1  One_Story_1946_and_Newer_All_Styles  Residential_High_Density   
## 2  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 3  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 4             Two_Story_1946_and_Newer   Residential_Low_Density   
## 
##    Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 0           141  ...      215000 -93.619754  42.054035  
## 1            80  ...      105000 -93.619756  42.053014  
## 2            81  ...      172000 -93.619387  42.052659  
## 3            93  ...      244000 -93.617320  42.051245  
## 4            74  ...      189900 -93.638933  42.060899  
## 
## [5 rows x 74 columns]</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="introducción-a-python.html#cb9-1" tabindex="-1"></a>data_csv.describe()</span></code></pre></div>
<pre><code>##        Lot_Frontage       Lot_Area   Year_Built  ...     Sale_Price  \
## count   2930.000000    2930.000000  2930.000000  ...    2930.000000   
## mean      57.647782   10147.921843  1971.356314  ...  180796.060068   
## std       33.499441    7880.017759    30.245361  ...   79886.692357   
## min        0.000000    1300.000000  1872.000000  ...   12789.000000   
## 25%       43.000000    7440.250000  1954.000000  ...  129500.000000   
## 50%       63.000000    9436.500000  1973.000000  ...  160000.000000   
## 75%       78.000000   11555.250000  2001.000000  ...  213500.000000   
## max      313.000000  215245.000000  2010.000000  ...  755000.000000   
## 
##          Longitude     Latitude  
## count  2930.000000  2930.000000  
## mean    -93.642897    42.034482  
## std       0.025700     0.018410  
## min     -93.693153    41.986498  
## 25%     -93.660217    42.022088  
## 50%     -93.641806    42.034662  
## 75%     -93.622113    42.049853  
## max     -93.577427    42.063388  
## 
## [8 rows x 34 columns]</code></pre>
<p>La base de datos llamada <a href="https://1drv.ms/t/s!AuOiA083gYHmhKkcN26pn1mXQvqNAg?e=o5nhG7">AmesHousing</a> contiene un conjunto de datos con información de la Oficina del Tasador de Ames utilizada para calcular los valores tasados para las propiedades residenciales individuales vendidas en Ames, Iowa, de 2006 a 2010. FUENTES: Ames, Oficina del Tasador de Iowa.</p>
<p>Pueden descargar los datos para la clase <a href="https://1drv.ms/f/s!AuOiA083gYHmhKkZSv6N1bux0cYoAg">aquí</a></p>
<p>¿Y si el archivo que necesitamos leer está en excel?</p>
</div>
<div id="archivos-txt" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Archivos txt<a href="introducción-a-python.html#archivos-txt" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uno de los archivos más comunes es el <em>.txt</em>. La librería <em>pandas</em> también cuenta con parámetros en la función <em>read_csv</em> que permiten leer fácilmente los datos contenidos en formato tabular.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="introducción-a-python.html#cb11-1" tabindex="-1"></a>ames_txt <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/ames.txt&quot;</span>, delimiter <span class="op">=</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb11-2"><a href="introducción-a-python.html#cb11-2" tabindex="-1"></a>ames_txt.head(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>##                            MS_SubClass                 MS_Zoning  \
## 0  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 1  One_Story_1946_and_Newer_All_Styles  Residential_High_Density   
## 2  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 
##    Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 0           141  ...      215000 -93.619754  42.054035  
## 1            80  ...      105000 -93.619756  42.053014  
## 2            81  ...      172000 -93.619387  42.052659  
## 
## [3 rows x 74 columns]</code></pre>
<p>La función <em>read_csv()</em> funciona para leer archivos con diferentes delimitadores posibles, es decir, es posible especificar si las columnas están separadas por espacios, comas, punto y coma, tabulador o algún otro delimitador (““,”,“,”;“,”, “@”).</p>
<p>Adicionalmente, se puede especificar si el archivo contiene encabezado, si existen renglones a saltar, codificación, tipo de variable y muchas más opciones. Todos estos detalles pueden consultarse en la documentación oficial.</p>
</div>
<div id="archivos-xls-y-xlsx" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> Archivos <em>xls</em> y <em>xlsx</em><a href="introducción-a-python.html#archivos-xls-y-xlsx" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La paquetería <em>pandas</em> facilita la obtención de datos tabulares de archivos de <em>Excel</em>. Admite tanto el formato <em>.xls</em> heredado como el formato <em>.xlsx</em> moderno basado en <em>XML</em>. Es importante mencionar que es necesario instalar una dependencia para que funcione. Se requiere de la librería <em>openpyxl</em></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="introducción-a-python.html#cb13-1" tabindex="-1"></a>ames_xlsx <span class="op">=</span> pd.read_excel(<span class="st">&quot;data/ames.xlsx&quot;</span>)</span>
<span id="cb13-2"><a href="introducción-a-python.html#cb13-2" tabindex="-1"></a>ames_xlsx.head(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>##                            MS_SubClass                 MS_Zoning  \
## 0  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 1  One_Story_1946_and_Newer_All_Styles  Residential_High_Density   
## 2  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 
##    Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 0           141  ...      215000 -93.619754  42.054035  
## 1            80  ...      105000 -93.619756  42.053014  
## 2            81  ...      172000 -93.619387  42.052659  
## 
## [3 rows x 74 columns]</code></pre>
</div>
<div id="archivos-pickle" class="section level3 hasAnchor" number="2.4.4">
<h3><span class="header-section-number">2.4.4</span> Archivos pickle<a href="introducción-a-python.html#archivos-pickle" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un tipo de archivo que resulta de particular interés, es el <em>.pkl</em>. Este archivo comprime cualquier objeto o resultado que sea usado o producido en <em>python</em>. Uno puede almacenar el objeto de interés de la siguiente manera:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="introducción-a-python.html#cb15-1" tabindex="-1"></a></span>
<span id="cb15-2"><a href="introducción-a-python.html#cb15-2" tabindex="-1"></a>ames_xlsx.to_pickle(<span class="st">&#39;data/ames.pkl&#39;</span>)</span></code></pre></div>
<p>Puede observarse que en el explorador de archivos se encuentra ahora el nuevo archivo con extensión <em>.pkl</em>, el cual puede ser posteriormente incorporado a una sesión de <em>python</em> para seguir trabajando con él.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="introducción-a-python.html#cb16-1" tabindex="-1"></a>ames_pkl <span class="op">=</span> pd.read_pickle(<span class="st">&#39;data/ames.pkl&#39;</span>)</span>
<span id="cb16-2"><a href="introducción-a-python.html#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="introducción-a-python.html#cb16-3" tabindex="-1"></a>ames_pkl.head(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>##                            MS_SubClass                 MS_Zoning  \
## 0  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 1  One_Story_1946_and_Newer_All_Styles  Residential_High_Density   
## 2  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 
##    Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 0           141  ...      215000 -93.619754  42.054035  
## 1            80  ...      105000 -93.619756  42.053014  
## 2            81  ...      172000 -93.619387  42.052659  
## 
## [3 rows x 74 columns]</code></pre>
<p>Algunas de las grandes ventajas que tiene almacenar los archivos en formato pickle, son las siguientes:</p>
<ul>
<li><p>No es necesario volver a ejecutar procesos largos cuando ya se ha logrado realizar una vez.</p></li>
<li><p>El tiempo de lectura de la información es considerablemente más rápido.</p></li>
</ul>
</div>
</div>
<div id="consultas-de-datos" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Consultas de datos<a href="introducción-a-python.html#consultas-de-datos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Python hoy en día es el lenguaje de programación más popular, sin embargo otros lenguajes aún mantienen ventajas al haber desarrollado librerías muy especializadas y limpias para trabajar. Esto no significa que todo esté perdido para python, pues algunos desarrolladores están tratando de emular las funciones que existen en otros lenguajes y que han sido ampliamente adoptados por la comunidad.</p>
<p>En <em>R</em>, existe un conjunto de librerías llamado <strong>TIDYVERSE</strong> que sirve extraordinariamente para transformar y manipular datos. Aunque en python también se puede hacer con <em>pandas</em>, encontramos muy atractivo aprender funciones que se usan de igual manera en varios lenguajes de programación. La librería en python que simula a dplyr de tidyverse se conoce como <strong>siuba</strong></p>
<p>El paquete <em>siuba</em> proporciona un conjunto de funciones muy útiles para manipular dataframes y así reducir el número de repeticiones, la probabilidad de cometer errores y el número de caracteres que hay que escribir. Como valor extra, podemos encontrar que la gramática de <em>siuba</em> es más fácil de entender.</p>
<p>Revisaremos algunas de sus funciones <strong>más usadas</strong> (<em>verbos</em>), así como el uso de <strong>pipes</strong> (&gt;&gt;) para combinarlas.</p>
<ul>
<li><p>select()</p></li>
<li><p>filter()</p></li>
<li><p>arrange()</p></li>
<li><p>mutate()</p></li>
<li><p>summarise()</p></li>
<li><p>join()</p></li>
<li><p>group_by()</p></li>
</ul>
<p>Primero tenemos que instalar y cargar la paquetería:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introducción-a-python.html#cb18-1" tabindex="-1"></a><span class="co">#R</span></span>
<span id="cb18-2"><a href="introducción-a-python.html#cb18-2" tabindex="-1"></a><span class="fu">virtualenv_install</span>(<span class="st">&quot;venv_dsml_py3_10&quot;</span>, <span class="st">&quot;siuba&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="introducción-a-python.html#cb19-1" tabindex="-1"></a><span class="co"># python</span></span>
<span id="cb19-2"><a href="introducción-a-python.html#cb19-2" tabindex="-1"></a><span class="im">from</span> siuba <span class="im">import</span> <span class="op">*</span></span></code></pre></div>
<p>Usaremos el dataset <em>AmesHousing</em> que se proporcionó en el capítulo anterior (el alumno puede hacer el ejercicio con datos propios, si así lo desea)</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="introducción-a-python.html#cb20-1" tabindex="-1"></a>ames_housing <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/ames.csv&quot;</span>)</span>
<span id="cb20-2"><a href="introducción-a-python.html#cb20-2" tabindex="-1"></a></span>
<span id="cb20-3"><a href="introducción-a-python.html#cb20-3" tabindex="-1"></a>ames_housing.info()</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
## RangeIndex: 2930 entries, 0 to 2929
## Data columns (total 74 columns):
##  #   Column              Non-Null Count  Dtype  
## ---  ------              --------------  -----  
##  0   MS_SubClass         2930 non-null   object 
##  1   MS_Zoning           2930 non-null   object 
##  2   Lot_Frontage        2930 non-null   int64  
##  3   Lot_Area            2930 non-null   int64  
##  4   Street              2930 non-null   object 
##  5   Alley               2930 non-null   object 
##  6   Lot_Shape           2930 non-null   object 
##  7   Land_Contour        2930 non-null   object 
##  8   Utilities           2930 non-null   object 
##  9   Lot_Config          2930 non-null   object 
##  10  Land_Slope          2930 non-null   object 
##  11  Neighborhood        2930 non-null   object 
##  12  Condition_1         2930 non-null   object 
##  13  Condition_2         2930 non-null   object 
##  14  Bldg_Type           2930 non-null   object 
##  15  House_Style         2930 non-null   object 
##  16  Overall_Cond        2930 non-null   object 
##  17  Year_Built          2930 non-null   int64  
##  18  Year_Remod_Add      2930 non-null   int64  
##  19  Roof_Style          2930 non-null   object 
##  20  Roof_Matl           2930 non-null   object 
##  21  Exterior_1st        2930 non-null   object 
##  22  Exterior_2nd        2930 non-null   object 
##  23  Mas_Vnr_Type        1155 non-null   object 
##  24  Mas_Vnr_Area        2930 non-null   int64  
##  25  Exter_Cond          2930 non-null   object 
##  26  Foundation          2930 non-null   object 
##  27  Bsmt_Cond           2930 non-null   object 
##  28  Bsmt_Exposure       2930 non-null   object 
##  29  BsmtFin_Type_1      2930 non-null   object 
##  30  BsmtFin_SF_1        2930 non-null   int64  
##  31  BsmtFin_Type_2      2930 non-null   object 
##  32  BsmtFin_SF_2        2930 non-null   int64  
##  33  Bsmt_Unf_SF         2930 non-null   int64  
##  34  Total_Bsmt_SF       2930 non-null   int64  
##  35  Heating             2930 non-null   object 
##  36  Heating_QC          2930 non-null   object 
##  37  Central_Air         2930 non-null   object 
##  38  Electrical          2930 non-null   object 
##  39  First_Flr_SF        2930 non-null   int64  
##  40  Second_Flr_SF       2930 non-null   int64  
##  41  Gr_Liv_Area         2930 non-null   int64  
##  42  Bsmt_Full_Bath      2930 non-null   int64  
##  43  Bsmt_Half_Bath      2930 non-null   int64  
##  44  Full_Bath           2930 non-null   int64  
##  45  Half_Bath           2930 non-null   int64  
##  46  Bedroom_AbvGr       2930 non-null   int64  
##  47  Kitchen_AbvGr       2930 non-null   int64  
##  48  TotRms_AbvGrd       2930 non-null   int64  
##  49  Functional          2930 non-null   object 
##  50  Fireplaces          2930 non-null   int64  
##  51  Garage_Type         2930 non-null   object 
##  52  Garage_Finish       2930 non-null   object 
##  53  Garage_Cars         2930 non-null   int64  
##  54  Garage_Area         2930 non-null   int64  
##  55  Garage_Cond         2930 non-null   object 
##  56  Paved_Drive         2930 non-null   object 
##  57  Wood_Deck_SF        2930 non-null   int64  
##  58  Open_Porch_SF       2930 non-null   int64  
##  59  Enclosed_Porch      2930 non-null   int64  
##  60  Three_season_porch  2930 non-null   int64  
##  61  Screen_Porch        2930 non-null   int64  
##  62  Pool_Area           2930 non-null   int64  
##  63  Pool_QC             2930 non-null   object 
##  64  Fence               2930 non-null   object 
##  65  Misc_Feature        106 non-null    object 
##  66  Misc_Val            2930 non-null   int64  
##  67  Mo_Sold             2930 non-null   int64  
##  68  Year_Sold           2930 non-null   int64  
##  69  Sale_Type           2930 non-null   object 
##  70  Sale_Condition      2930 non-null   object 
##  71  Sale_Price          2930 non-null   int64  
##  72  Longitude           2930 non-null   float64
##  73  Latitude            2930 non-null   float64
## dtypes: float64(2), int64(32), object(40)
## memory usage: 1.7+ MB</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="introducción-a-python.html#cb22-1" tabindex="-1"></a>ames_housing.describe()</span></code></pre></div>
<pre><code>##        Lot_Frontage       Lot_Area   Year_Built  ...     Sale_Price  \
## count   2930.000000    2930.000000  2930.000000  ...    2930.000000   
## mean      57.647782   10147.921843  1971.356314  ...  180796.060068   
## std       33.499441    7880.017759    30.245361  ...   79886.692357   
## min        0.000000    1300.000000  1872.000000  ...   12789.000000   
## 25%       43.000000    7440.250000  1954.000000  ...  129500.000000   
## 50%       63.000000    9436.500000  1973.000000  ...  160000.000000   
## 75%       78.000000   11555.250000  2001.000000  ...  213500.000000   
## max      313.000000  215245.000000  2010.000000  ...  755000.000000   
## 
##          Longitude     Latitude  
## count  2930.000000  2930.000000  
## mean    -93.642897    42.034482  
## std       0.025700     0.018410  
## min     -93.693153    41.986498  
## 25%     -93.660217    42.022088  
## 50%     -93.641806    42.034662  
## 75%     -93.622113    42.049853  
## max     -93.577427    42.063388  
## 
## [8 rows x 34 columns]</code></pre>
<div id="seleccionar-columnas" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Seleccionar columnas<a href="introducción-a-python.html#seleccionar-columnas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Observamos que nuestros datos tienen 2,930 observaciones y 74 variables, con <em>select()</em> podemos seleccionar las variables que se indiquen.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="introducción-a-python.html#cb24-1" tabindex="-1"></a>(</span>
<span id="cb24-2"><a href="introducción-a-python.html#cb24-2" tabindex="-1"></a>ames_housing <span class="op">&gt;&gt;</span></span>
<span id="cb24-3"><a href="introducción-a-python.html#cb24-3" tabindex="-1"></a>  select(_.Lot_Area, _.Neighborhood, _.Year_Sold, _.Sale_Price)</span>
<span id="cb24-4"><a href="introducción-a-python.html#cb24-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##       Lot_Area Neighborhood  Year_Sold  Sale_Price
## 0        31770   North_Ames       2010      215000
## 1        11622   North_Ames       2010      105000
## 2        14267   North_Ames       2010      172000
## 3        11160   North_Ames       2010      244000
## 4        13830      Gilbert       2010      189900
## ...        ...          ...        ...         ...
## 2925      7937     Mitchell       2006      142500
## 2926      8885     Mitchell       2006      131000
## 2927     10441     Mitchell       2006      132000
## 2928     10010     Mitchell       2006      170000
## 2929      9627     Mitchell       2006      188000
## 
## [2930 rows x 4 columns]</code></pre>
<div class="infobox tip">
<p><strong>¡¡ RECORDAR !!</strong></p>
<ul>
<li><p>El operador pipe (&gt;&gt;) se usa para conectar un elemento con una función o acción a realizar. En este caso solo se indica que en los datos de ames se seleccionan 4 variables.</p></li>
<li><p>Al operador ’_.’ se le conoce como <em>siu-expresion</em>. Es muy útil para hacer referencia a una columna que se encuentra dentro del conjunto de datos que se encuentra operando.</p></li>
<li><p>Para que el operador &gt;&gt; ejecute todo el pipeline es importante envolverlo entre paréntesis.</p></li>
</ul>
</div>
<p>Con <em>select()</em> y <em>contains()</em> podemos seleccionar variables con alguna cadena de texto.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="introducción-a-python.html#cb26-1" tabindex="-1"></a>(</span>
<span id="cb26-2"><a href="introducción-a-python.html#cb26-2" tabindex="-1"></a> ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb26-3"><a href="introducción-a-python.html#cb26-3" tabindex="-1"></a>  select(_.contains(<span class="st">&quot;Area&quot;</span>))</span>
<span id="cb26-4"><a href="introducción-a-python.html#cb26-4" tabindex="-1"></a> )</span></code></pre></div>
<pre><code>##       Lot_Area  Mas_Vnr_Area  Gr_Liv_Area  Garage_Area  Pool_Area
## 0        31770           112         1656          528          0
## 1        11622             0          896          730          0
## 2        14267           108         1329          312          0
## 3        11160             0         2110          522          0
## 4        13830             0         1629          482          0
## ...        ...           ...          ...          ...        ...
## 2925      7937             0         1003          588          0
## 2926      8885             0          902          484          0
## 2927     10441             0          970            0          0
## 2928     10010             0         1389          418          0
## 2929      9627            94         2000          650          0
## 
## [2930 rows x 5 columns]</code></pre>
<p>De igual manera, con <em>select()</em>, <em>contains()</em> podemos seleccionar que inicien o terminen con alguna cadena de texto.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="introducción-a-python.html#cb28-1" tabindex="-1"></a>(</span>
<span id="cb28-2"><a href="introducción-a-python.html#cb28-2" tabindex="-1"></a> ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb28-3"><a href="introducción-a-python.html#cb28-3" tabindex="-1"></a> select(_.contains(<span class="st">&quot;^Garage&quot;</span>))</span>
<span id="cb28-4"><a href="introducción-a-python.html#cb28-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##      Garage_Type Garage_Finish  Garage_Cars  Garage_Area Garage_Cond
## 0         Attchd           Fin            2          528     Typical
## 1         Attchd           Unf            1          730     Typical
## 2         Attchd           Unf            1          312     Typical
## 3         Attchd           Fin            2          522     Typical
## 4         Attchd           Fin            2          482     Typical
## ...          ...           ...          ...          ...         ...
## 2925      Detchd           Unf            2          588     Typical
## 2926      Attchd           Unf            2          484     Typical
## 2927   No_Garage     No_Garage            0            0   No_Garage
## 2928      Attchd           RFn            2          418     Typical
## 2929      Attchd           Fin            3          650     Typical
## 
## [2930 rows x 5 columns]</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="introducción-a-python.html#cb30-1" tabindex="-1"></a>(</span>
<span id="cb30-2"><a href="introducción-a-python.html#cb30-2" tabindex="-1"></a> ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb30-3"><a href="introducción-a-python.html#cb30-3" tabindex="-1"></a> select(_.contains(<span class="st">&quot;Area$&quot;</span>))</span>
<span id="cb30-4"><a href="introducción-a-python.html#cb30-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##       Lot_Area  Mas_Vnr_Area  Gr_Liv_Area  Garage_Area  Pool_Area
## 0        31770           112         1656          528          0
## 1        11622             0          896          730          0
## 2        14267           108         1329          312          0
## 3        11160             0         2110          522          0
## 4        13830             0         1629          482          0
## ...        ...           ...          ...          ...        ...
## 2925      7937             0         1003          588          0
## 2926      8885             0          902          484          0
## 2927     10441             0          970            0          0
## 2928     10010             0         1389          418          0
## 2929      9627            94         2000          650          0
## 
## [2930 rows x 5 columns]</code></pre>
</div>
<div id="filtrar-observaciones" class="section level3 hasAnchor" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> Filtrar observaciones<a href="introducción-a-python.html#filtrar-observaciones" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La función <em>filter()</em> nos permite filtrar filas según una condición, primero notemos que la variable <em>Sale_Condition</em> tiene distintas categorías.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="introducción-a-python.html#cb32-1" tabindex="-1"></a>ames_housing[<span class="st">&#39;Sale_Condition&#39;</span>].value_counts()</span></code></pre></div>
<pre><code>## Sale_Condition
## Normal     2413
## Partial     245
## Abnorml     190
## Family       46
## Alloca       24
## AdjLand      12
## Name: count, dtype: int64</code></pre>
<div class="infobox important">
<p><strong>¡¡ SPOILER !!</strong></p>
<p>En un modelo predictivo de Machine Learning, <strong>no es correcto</strong> agregar columnas cuyo valor es conocido hasta el momento de la observación. Es decir, no deben agregarse variables que no se conozca su valor al momento de la predicción, como es el caso de <em>condición de venta</em>.</p>
</div>
<p>Ahora usaremos la función <em>filter</em> para quedarnos solo con las observaciones con condición de venta “normal”.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="introducción-a-python.html#cb34-1" tabindex="-1"></a>(</span>
<span id="cb34-2"><a href="introducción-a-python.html#cb34-2" tabindex="-1"></a>  ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb34-3"><a href="introducción-a-python.html#cb34-3" tabindex="-1"></a>  <span class="bu">filter</span>(_.Sale_Condition <span class="op">==</span> <span class="st">&quot;Normal&quot;</span>)</span>
<span id="cb34-4"><a href="introducción-a-python.html#cb34-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##                               MS_SubClass                 MS_Zoning  \
## 0     One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 1     One_Story_1946_and_Newer_All_Styles  Residential_High_Density   
## 2     One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 3     One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 4                Two_Story_1946_and_Newer   Residential_Low_Density   
## ...                                   ...                       ...   
## 2925                  Split_or_Multilevel   Residential_Low_Density   
## 2926  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 2927                          Split_Foyer   Residential_Low_Density   
## 2928  One_Story_1946_and_Newer_All_Styles   Residential_Low_Density   
## 2929             Two_Story_1946_and_Newer   Residential_Low_Density   
## 
##       Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 0              141  ...      215000 -93.619754  42.054035  
## 1               80  ...      105000 -93.619756  42.053014  
## 2               81  ...      172000 -93.619387  42.052659  
## 3               93  ...      244000 -93.617320  42.051245  
## 4               74  ...      189900 -93.638933  42.060899  
## ...            ...  ...         ...        ...        ...  
## 2925            37  ...      142500 -93.604776  41.988964  
## 2926             0  ...      131000 -93.602680  41.988314  
## 2927            62  ...      132000 -93.606847  41.986510  
## 2928            77  ...      170000 -93.600190  41.990921  
## 2929            74  ...      188000 -93.599996  41.989265  
## 
## [2413 rows x 74 columns]</code></pre>
<p>También se puede usar para filtrar variables numéricas:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="introducción-a-python.html#cb36-1" tabindex="-1"></a>(</span>
<span id="cb36-2"><a href="introducción-a-python.html#cb36-2" tabindex="-1"></a>  ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb36-3"><a href="introducción-a-python.html#cb36-3" tabindex="-1"></a>  <span class="bu">filter</span>( (_.Lot_Area <span class="op">&gt;</span> <span class="dv">1000</span>) <span class="op">&amp;</span> (_.Sale_Price <span class="op">&gt;=</span> <span class="dv">150000</span>) )</span>
<span id="cb36-4"><a href="introducción-a-python.html#cb36-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##                               MS_SubClass                MS_Zoning  \
## 0     One_Story_1946_and_Newer_All_Styles  Residential_Low_Density   
## 2     One_Story_1946_and_Newer_All_Styles  Residential_Low_Density   
## 3     One_Story_1946_and_Newer_All_Styles  Residential_Low_Density   
## 4                Two_Story_1946_and_Newer  Residential_Low_Density   
## 5                Two_Story_1946_and_Newer  Residential_Low_Density   
## ...                                   ...                      ...   
## 2921           Duplex_All_Styles_and_Ages  Residential_Low_Density   
## 2922           Duplex_All_Styles_and_Ages  Residential_Low_Density   
## 2923  One_Story_1946_and_Newer_All_Styles  Residential_Low_Density   
## 2928  One_Story_1946_and_Newer_All_Styles  Residential_Low_Density   
## 2929             Two_Story_1946_and_Newer  Residential_Low_Density   
## 
##       Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 0              141  ...      215000 -93.619754  42.054035  
## 2               81  ...      172000 -93.619387  42.052659  
## 3               93  ...      244000 -93.617320  42.051245  
## 4               74  ...      189900 -93.638933  42.060899  
## 5               78  ...      195500 -93.638925  42.060779  
## ...            ...  ...         ...        ...        ...  
## 2921            55  ...      150900 -93.604475  41.990043  
## 2922            63  ...      188000 -93.603534  41.990134  
## 2923            80  ...      160000 -93.608688  41.988737  
## 2928            77  ...      170000 -93.600190  41.990921  
## 2929            74  ...      188000 -93.599996  41.989265  
## 
## [1677 rows x 74 columns]</code></pre>
<p>Notemos que en el ejemplo anterior se usa <em>&amp;</em>, que ayuda a filtrar por dos condiciones.</p>
<p>También puede usarse <em>|</em> para filtrar por alguna de las dos condiciones.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="introducción-a-python.html#cb38-1" tabindex="-1"></a>(</span>
<span id="cb38-2"><a href="introducción-a-python.html#cb38-2" tabindex="-1"></a>  ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb38-3"><a href="introducción-a-python.html#cb38-3" tabindex="-1"></a>  <span class="bu">filter</span>((_.Lot_Area <span class="op">&lt;</span> <span class="dv">1000</span>) <span class="op">|</span> (_.Sale_Price <span class="op">&lt;=</span> <span class="dv">150000</span>))</span>
<span id="cb38-4"><a href="introducción-a-python.html#cb38-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##                               MS_SubClass                   MS_Zoning  \
## 1     One_Story_1946_and_Newer_All_Styles    Residential_High_Density   
## 18    One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 23    One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 24    One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 25    One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## ...                                   ...                         ...   
## 2920         Two_Story_PUD_1946_and_Newer  Residential_Medium_Density   
## 2924  One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 2925                  Split_or_Multilevel     Residential_Low_Density   
## 2926  One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 2927                          Split_Foyer     Residential_Low_Density   
## 
##       Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 1               80  ...      105000 -93.619756  42.053014  
## 18             140  ...      141000 -93.622971  42.056673  
## 23               0  ...      149000 -93.626231  42.055147  
## 24               0  ...      149900 -93.626537  42.054592  
## 25              65  ...      142000 -93.628806  42.055227  
## ...            ...  ...         ...        ...        ...  
## 2920            21  ...       71000 -93.602345  41.991532  
## 2924           160  ...      131000 -93.606842  41.987686  
## 2925            37  ...      142500 -93.604776  41.988964  
## 2926             0  ...      131000 -93.602680  41.988314  
## 2927            62  ...      132000 -93.606847  41.986510  
## 
## [1271 rows x 74 columns]</code></pre>
<p>Las condiciones pueden ser expresiones lógicas construidas mediante los operadores relacionales y lógicos:</p>
<ul>
<li><p><strong>&lt;</strong> : Menor que</p></li>
<li><p><strong>&gt;</strong> : Mayor que</p></li>
<li><p><strong>==</strong> : Igual que</p></li>
<li><p><strong>&lt;=</strong> : Menor o igual que</p></li>
<li><p><strong>&gt;=</strong> : Mayor o igual que</p></li>
<li><p><strong>!=</strong> : Diferente que</p></li>
<li><p><strong>isin</strong> : Pertenece al conjunto</p></li>
<li><p><strong>isnull</strong> : Es NA</p></li>
</ul>
<p><strong>EJERCICIO:</strong></p>
<ul>
<li><p>Practicar la función de filtro de observaciones usando los operadores auxiliares.</p></li>
<li><p>Concatenar el resultado de seleccionar columnas y posteriormente filtrar columnas.</p></li>
</ul>
</div>
<div id="ordenar-registros" class="section level3 hasAnchor" number="2.5.3">
<h3><span class="header-section-number">2.5.3</span> Ordenar registros<a href="introducción-a-python.html#ordenar-registros" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La función <em>arrange()</em> se utiliza para ordenar las filas de un data frame de acuerdo a una o varias variables. Este ordenamiento puede ser ascendente o descendente.</p>
<p>Por defecto <em>arrange()</em> ordena las filas por orden ascendente:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="introducción-a-python.html#cb40-1" tabindex="-1"></a>(</span>
<span id="cb40-2"><a href="introducción-a-python.html#cb40-2" tabindex="-1"></a>  ames_housing </span>
<span id="cb40-3"><a href="introducción-a-python.html#cb40-3" tabindex="-1"></a>  <span class="op">&gt;&gt;</span> arrange(_.Sale_Price)</span>
<span id="cb40-4"><a href="introducción-a-python.html#cb40-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##                               MS_SubClass                   MS_Zoning  \
## 181              One_Story_1945_and_Older  Residential_Medium_Density   
## 1553  One_Story_1946_and_Newer_All_Styles                       A_agr   
## 726              One_Story_1945_and_Older                       C_all   
## 2843             One_Story_1945_and_Older     Residential_Low_Density   
## 2880  One_Story_1946_and_Newer_All_Styles                       C_all   
## ...                                   ...                         ...   
## 44    One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 1063  One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 2445             Two_Story_1946_and_Newer     Residential_Low_Density   
## 1760             Two_Story_1946_and_Newer     Residential_Low_Density   
## 1767             Two_Story_1946_and_Newer     Residential_Low_Density   
## 
##       Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 181             68  ...       12789 -93.606789  42.030388  
## 1553            80  ...       13100 -93.625217  42.018806  
## 726             60  ...       34900 -93.605207  42.023218  
## 2843            60  ...       35000 -93.659043  42.021559  
## 2880            50  ...       35311 -93.615012  42.019099  
## ...            ...  ...         ...        ...        ...  
## 44             100  ...      611657 -93.655051  42.059617  
## 1063           106  ...      615000 -93.656958  42.058484  
## 2445           118  ...      625000 -93.657851  42.053314  
## 1760           160  ...      745000 -93.657592  42.053321  
## 1767           104  ...      755000 -93.657271  42.051980  
## 
## [2930 rows x 74 columns]</code></pre>
<p><br> <br></p>
<p>Si las queremos ordenar de forma ascendente, lo haremos del siguiente modo:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="introducción-a-python.html#cb42-1" tabindex="-1"></a>(</span>
<span id="cb42-2"><a href="introducción-a-python.html#cb42-2" tabindex="-1"></a>  ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb42-3"><a href="introducción-a-python.html#cb42-3" tabindex="-1"></a>  arrange(<span class="op">-</span>_.Sale_Price)</span>
<span id="cb42-4"><a href="introducción-a-python.html#cb42-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##                               MS_SubClass                   MS_Zoning  \
## 1767             Two_Story_1946_and_Newer     Residential_Low_Density   
## 1760             Two_Story_1946_and_Newer     Residential_Low_Density   
## 2445             Two_Story_1946_and_Newer     Residential_Low_Density   
## 1063  One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## 44    One_Story_1946_and_Newer_All_Styles     Residential_Low_Density   
## ...                                   ...                         ...   
## 2880  One_Story_1946_and_Newer_All_Styles                       C_all   
## 2843             One_Story_1945_and_Older     Residential_Low_Density   
## 726              One_Story_1945_and_Older                       C_all   
## 1553  One_Story_1946_and_Newer_All_Styles                       A_agr   
## 181              One_Story_1945_and_Older  Residential_Medium_Density   
## 
##       Lot_Frontage  ...  Sale_Price  Longitude   Latitude  
## 1767           104  ...      755000 -93.657271  42.051980  
## 1760           160  ...      745000 -93.657592  42.053321  
## 2445           118  ...      625000 -93.657851  42.053314  
## 1063           106  ...      615000 -93.656958  42.058484  
## 44             100  ...      611657 -93.655051  42.059617  
## ...            ...  ...         ...        ...        ...  
## 2880            50  ...       35311 -93.615012  42.019099  
## 2843            60  ...       35000 -93.659043  42.021559  
## 726             60  ...       34900 -93.605207  42.023218  
## 1553            80  ...       13100 -93.625217  42.018806  
## 181             68  ...       12789 -93.606789  42.030388  
## 
## [2930 rows x 74 columns]</code></pre>
<p>Si se desea usar dos o más columnas para realizar el ordenamiento, deben separarse por comas cada una de las características</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="introducción-a-python.html#cb44-1" tabindex="-1"></a>(</span>
<span id="cb44-2"><a href="introducción-a-python.html#cb44-2" tabindex="-1"></a>ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb44-3"><a href="introducción-a-python.html#cb44-3" tabindex="-1"></a> arrange(_.Sale_Condition, <span class="op">-</span>_.Sale_Price, _.Lot_Area) <span class="op">&gt;&gt;</span></span>
<span id="cb44-4"><a href="introducción-a-python.html#cb44-4" tabindex="-1"></a> select(_.Sale_Condition, _.Sale_Price, _.Lot_Area)</span>
<span id="cb44-5"><a href="introducción-a-python.html#cb44-5" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##      Sale_Condition  Sale_Price  Lot_Area
## 1760        Abnorml      745000     15623
## 456         Abnorml      552000     14836
## 1425        Abnorml      475000     11778
## 1058        Abnorml      390000     13418
## 1171        Abnorml      328900      5119
## ...             ...         ...       ...
## 2826        Partial      140000      3675
## 2472        Partial      132000     13072
## 1996        Partial      124500      3600
## 1299        Partial      115000      6000
## 712         Partial      113000      4456
## 
## [2930 rows x 3 columns]</code></pre>
<p>Notemos que en el ejemplo anterior usamos dos <em>pipes</em> (&gt;&gt;), como habíamos mencionado se pueden usar los necesarios para combinar funciones.</p>
</div>
<div id="agregar-modificar" class="section level3 hasAnchor" number="2.5.4">
<h3><span class="header-section-number">2.5.4</span> Agregar / Modificar<a href="introducción-a-python.html#agregar-modificar" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Con la función <em>mutate()</em> podemos computar transformaciones de variables en un data frame. A menudo, tendremos la necesidad de crear nuevas variables que se calculan a partir de variables existentes. La función <em>mutate()</em> proporciona una interfaz clara para realizar este tipo de operaciones.</p>
<p>Por ejemplo, haremos el cálculo de la antigüedad del inmueble a partir de las variables <em>Year_Sold</em> y <em>Year_Remod_Add</em>:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="introducción-a-python.html#cb46-1" tabindex="-1"></a>ejemplo_mutate <span class="op">=</span> (</span>
<span id="cb46-2"><a href="introducción-a-python.html#cb46-2" tabindex="-1"></a> ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb46-3"><a href="introducción-a-python.html#cb46-3" tabindex="-1"></a>   select(_.Year_Sold, _.Year_Remod_Add) <span class="op">&gt;&gt;</span></span>
<span id="cb46-4"><a href="introducción-a-python.html#cb46-4" tabindex="-1"></a>   mutate(Antique <span class="op">=</span> _.Year_Sold <span class="op">-</span> _.Year_Remod_Add)</span>
<span id="cb46-5"><a href="introducción-a-python.html#cb46-5" tabindex="-1"></a>)</span>
<span id="cb46-6"><a href="introducción-a-python.html#cb46-6" tabindex="-1"></a></span>
<span id="cb46-7"><a href="introducción-a-python.html#cb46-7" tabindex="-1"></a>ejemplo_mutate</span></code></pre></div>
<pre><code>##       Year_Sold  Year_Remod_Add  Antique
## 0          2010            1960       50
## 1          2010            1961       49
## 2          2010            1958       52
## 3          2010            1968       42
## 4          2010            1998       12
## ...         ...             ...      ...
## 2925       2006            1984       22
## 2926       2006            1983       23
## 2927       2006            1992       14
## 2928       2006            1975       31
## 2929       2006            1994       12
## 
## [2930 rows x 3 columns]</code></pre>
<p>El ejemplo anterior crea una nueva variable. Ahora se presenta otro ejemplo en donde se modifica una variable ya creada.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="introducción-a-python.html#cb48-1" tabindex="-1"></a>(</span>
<span id="cb48-2"><a href="introducción-a-python.html#cb48-2" tabindex="-1"></a>ejemplo_mutate <span class="op">&gt;&gt;</span> </span>
<span id="cb48-3"><a href="introducción-a-python.html#cb48-3" tabindex="-1"></a> mutate(Antique <span class="op">=</span> _.Antique <span class="op">*</span> <span class="dv">12</span>)</span>
<span id="cb48-4"><a href="introducción-a-python.html#cb48-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##       Year_Sold  Year_Remod_Add  Antique
## 0          2010            1960      600
## 1          2010            1961      588
## 2          2010            1958      624
## 3          2010            1968      504
## 4          2010            1998      144
## ...         ...             ...      ...
## 2925       2006            1984      264
## 2926       2006            1983      276
## 2927       2006            1992      168
## 2928       2006            1975      372
## 2929       2006            1994      144
## 
## [2930 rows x 3 columns]</code></pre>
<p>En este segundo ejemplo, se modifica el número de años de antigüedad y se multiplica por un factor de 12 para modificar el tiempo en una escala de meses.</p>
</div>
<div id="resumen-estadístico" class="section level3 hasAnchor" number="2.5.5">
<h3><span class="header-section-number">2.5.5</span> Resumen estadístico<a href="introducción-a-python.html#resumen-estadístico" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La función <em>summarize()</em> se comporta de forma análoga a la función <em>mutate()</em>, excepto que en lugar de añadir nuevas columnas crea un nuevo data frame que resumen el valor de los renglones a través de un estadístico.</p>
<p>Podemos usar el ejemplo anterior y calcular la media de la variable creada <em>Antique</em>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="introducción-a-python.html#cb50-1" tabindex="-1"></a>(</span>
<span id="cb50-2"><a href="introducción-a-python.html#cb50-2" tabindex="-1"></a>ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb50-3"><a href="introducción-a-python.html#cb50-3" tabindex="-1"></a> select(_.Year_Sold, _.Year_Remod_Add) <span class="op">&gt;&gt;</span></span>
<span id="cb50-4"><a href="introducción-a-python.html#cb50-4" tabindex="-1"></a> mutate(Antique <span class="op">=</span> _.Year_Sold <span class="op">-</span> _.Year_Remod_Add) <span class="op">&gt;&gt;</span></span>
<span id="cb50-5"><a href="introducción-a-python.html#cb50-5" tabindex="-1"></a> summarize(</span>
<span id="cb50-6"><a href="introducción-a-python.html#cb50-6" tabindex="-1"></a>  Mean_Antique <span class="op">=</span> _.Antique.mean(),</span>
<span id="cb50-7"><a href="introducción-a-python.html#cb50-7" tabindex="-1"></a>  Median_Antique <span class="op">=</span> _.Antique.median(),</span>
<span id="cb50-8"><a href="introducción-a-python.html#cb50-8" tabindex="-1"></a>  First_Antique <span class="op">=</span> _.Antique.iloc[<span class="dv">0</span>],</span>
<span id="cb50-9"><a href="introducción-a-python.html#cb50-9" tabindex="-1"></a>  Last_Antique <span class="op">=</span> _.Antique.iloc[<span class="op">-</span><span class="dv">1</span>],</span>
<span id="cb50-10"><a href="introducción-a-python.html#cb50-10" tabindex="-1"></a>  )</span>
<span id="cb50-11"><a href="introducción-a-python.html#cb50-11" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##    Mean_Antique  Median_Antique  First_Antique  Last_Antique
## 0     23.523891            15.0             50            12</code></pre>
<p>Solo fue necesario agregar un <em>pipe</em>, especificar el nombre de la variable creada y la operación a realizar.</p>
<p>A continuación se muestran funciones que trabajando conjuntamente con la función summarize() facilitarán nuestro trabajo diario. Todas ellas toman como argumento un vector y devuelven un único resultado:</p>
<ul>
<li><p><em>min(), max()</em> : Valores max y min.</p></li>
<li><p><em>mean()</em> : Media.</p></li>
<li><p><em>median()</em> : Mediana.</p></li>
<li><p><em>sum()</em> : Suma de los valores.</p></li>
<li><p><em>var(), std()</em> : Varianza y desviación estándar.</p></li>
<li><p><em>count()</em> : El número de valores en un vector.</p></li>
<li><p><em>iloc()</em> : Especificar el índice del elemento a extraer</p></li>
</ul>
<p>Mas adelante veremos como combinar esta función con la función <em>group_by()</em> para calcular estadísticos agrupados por alguna característica de interés.</p>
<p><strong>EJERCICIO:</strong></p>
<ul>
<li>Realizar una consulta usando <em>summarize()</em> y cada una de las funciones estadísticas listadas anteriormente.</li>
</ul>
</div>
<div id="agrupamiento" class="section level3 hasAnchor" number="2.5.6">
<h3><span class="header-section-number">2.5.6</span> Agrupamiento<a href="introducción-a-python.html#agrupamiento" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La función <em>group_by()</em> agrupa un conjunto de filas de acuerdo con los valores de una o más columnas o expresiones.</p>
<p>Usaremos el ejemplo anterior. Primero creamos nuestra nueva variable <em>Antique</em>, después agrupamos por vecindario y al final calculamos la media de la variable <em>Antique</em>. Gracias al agrupamiento, nos regresara una media por cada grupo creado, es decir, nos regresara el promedio de la antigüedad por vecindario.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="introducción-a-python.html#cb52-1" tabindex="-1"></a>(</span>
<span id="cb52-2"><a href="introducción-a-python.html#cb52-2" tabindex="-1"></a>ames_housing <span class="op">&gt;&gt;</span> </span>
<span id="cb52-3"><a href="introducción-a-python.html#cb52-3" tabindex="-1"></a> mutate(Antique <span class="op">=</span> _.Year_Sold <span class="op">-</span> _.Year_Remod_Add) <span class="op">&gt;&gt;</span> </span>
<span id="cb52-4"><a href="introducción-a-python.html#cb52-4" tabindex="-1"></a> group_by(_.Neighborhood) <span class="op">&gt;&gt;</span> </span>
<span id="cb52-5"><a href="introducción-a-python.html#cb52-5" tabindex="-1"></a> summarize(Mean_Antique <span class="op">=</span> _.Antique.mean().<span class="bu">round</span>(<span class="dv">0</span>) )</span>
<span id="cb52-6"><a href="introducción-a-python.html#cb52-6" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##                                Neighborhood  Mean_Antique
## 0                       Bloomington_Heights           2.0
## 1                                   Blueste          25.0
## 2                                 Briardale          35.0
## 3                                 Brookside          39.0
## 4                               Clear_Creek          28.0
## 5                             College_Creek           8.0
## 6                                  Crawford          29.0
## 7                                   Edwards          33.0
## 8                                   Gilbert           9.0
## 9                               Green_Hills          14.0
## 10                                   Greens          26.0
## 11                   Iowa_DOT_and_Rail_Road          43.0
## 12                                 Landmark          12.0
## 13                           Meadow_Village          32.0
## 14                                 Mitchell          22.0
## 15                               North_Ames          37.0
## 16                          Northpark_Villa          32.0
## 17                               Northridge          11.0
## 18                       Northridge_Heights           2.0
## 19                           Northwest_Ames          28.0
## 20                                 Old_Town          34.0
## 21                                   Sawyer          32.0
## 22                              Sawyer_West          15.0
## 23                                 Somerset           3.0
## 24  South_and_West_of_Iowa_State_University          44.0
## 25                              Stone_Brook           8.0
## 26                               Timberland          11.0
## 27                                  Veenker          20.0</code></pre>
<div class="infobox tip">
<p><strong>¡¡ REVISAR !!</strong></p>
<p>En este <a href="https://plydata.readthedocs.io/en/stable/api.html">link</a> se encuentra un buen resumen de las funciones complementarias a dplyr y tidyr de <em>R</em>. La librería se llama <em>plydata</em>.</p>
</div>

<div class="watermark">
<p><img src="img/header.png" width="400"/></p>
</div>
</div>
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

$('.pipehover_incremental tr').hover(function() {
  $(this).removeClass()
  $(this).prevAll().removeClass()
  $(this).nextAll().removeClass()
  $(this).addClass('hover');
  $(this).prevAll().addClass('hover');
  $(this).closest('div').next().find('img').attr("src", $(this).attr("link"));
});


$('.pipehover_select_one_row tr').hover(function() {
  $(this).removeClass()
  $(this).prevAll().removeClass()
  $(this).nextAll().removeClass()
  $(this).addClass('hover');
  $(this).closest('div').next().find('img').attr("src", $(this).attr("link"));
});

</script>
            </section>

          </div>
        </div>
      </div>
<a href="conceptos-de-ciencia-de-datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualización.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["amt23_01intro2dsml_py.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
